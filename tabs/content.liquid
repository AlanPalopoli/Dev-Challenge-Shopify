{%- capture block_settings -%}
  [
  {%- for block in section.blocks -%}
    {{ block.settings }}{%- unless forloop.last -%},{%- endunless -%}
  {%- endfor -%}
  ]
{%- endcapture -%}

{% assign data = section.blocks | map: "settings" %}
<div
  class="tabs tabs-section"
  data-section-settings="{{ section.settings }}"
  data-section-blocks={{ data | json }}>
  <div class="tabs__container flex gap-2">
    {% for block in section.blocks %}
      <button
        class="border rounded-md p-2"
        onclick="showTabText('tab{{ forloop.index }}')"
        style="background-color: {{ block.settings.tab_color }};">
        {{ block.settings.tab_title }}
      </button>
    {% endfor %}
  </div>

  {% for block in section.blocks %}
    <div id="tab{{ forloop.index }}" class="tab hidden">
      {{ block.settings.tab_content }}
    </div>
  {% endfor %}
</div>